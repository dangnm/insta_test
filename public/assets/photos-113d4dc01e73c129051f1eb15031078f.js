(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};window.CarrierWaveCropper=function(){function t(t,n){this.updatePreview=e(this.updatePreview,this),this.update=e(this.update,this),$("#photo_data_cropbox").Jcrop({aspectRatio:1,setSelect:[0,0,200,200],onSelect:this.update,onChange:this.update,bgColor:"transparent",bgOpacity:.4,trueSize:[t,n]})}return t.prototype.update=function(e){return $("#photo_data_crop_x").val(e.x),$("#photo_data_crop_y").val(e.y),$("#photo_data_crop_w").val(e.w),$("#photo_data_crop_h").val(e.h),this.updatePreview(e)},t.prototype.updatePreview=function(e){return $("#photo_data_previewbox").css({width:Math.round(100/e.w*$("#photo_data_cropbox").width())+"px",height:Math.round(100/e.h*$("#photo_data_cropbox").height())+"px",marginLeft:"-"+Math.round(100/e.w*e.x)+"px",marginTop:"-"+Math.round(100/e.h*e.y)+"px"})},t}()}).call(this);